(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},s={app:0},n=[];function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"026e":function(t,e,i){t.exports=i.p+"img/avatar.a5559bfc.png"},"034f":function(t,e,i){"use strict";var a=i("64a9"),s=i.n(a);s.a},1433:function(t,e,i){t.exports=i.p+"img/nodata.e477c5ab.svg"},2245:function(t,e,i){t.exports=i.p+"img/false.83a8df25.svg"},2712:function(t,e,i){},3509:function(t,e,i){},"384e":function(t,e,i){},"393b":function(t,e,i){t.exports=i.p+"img/list.7ce1713b.svg"},"3ba5":function(t,e,i){t.exports=i.p+"img/logo.4f69d69f.svg"},4569:function(t,e,i){t.exports=i.p+"img/zhihu-line.06c52110.svg"},"45c8":function(t,e,i){"use strict";var a=i("5940"),s=i.n(a);s.a},4695:function(t,e,i){"use strict";var a=i("d33b"),s=i.n(a);s.a},"4c8a":function(t,e,i){},5072:function(t,e,i){t.exports=i.p+"img/tips.8ea7afc8.svg"},"52ab":function(t,e,i){t.exports=i.p+"img/browse.500e9a5b.svg"},"52ce":function(t,e,i){"use strict";var a=i("2712"),s=i.n(a);s.a},5419:function(t,e,i){t.exports=i.p+"img/male.e59208ce.svg"},"56d7":function(t,e,i){"use strict";i.r(e);i("ac6a"),i("cadf"),i("551c"),i("f751"),i("097d");var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.mainShow,expression:"mainShow"}],attrs:{id:"app"}},[i("transition",{attrs:{name:"init"}},[i("navi",{directives:[{name:"show",rawName:"v-show",value:t.naviShow,expression:"naviShow"}],on:{triggerLogin:t.refresh}})],1),i("div",{attrs:{id:"seize"}}),i("div",{attrs:{id:"path-big-wrapper"}},[i("div",{attrs:{id:"path-wrapper"}},[i("nowpath")],1)]),i("div",{attrs:{id:"home-big-wrapper"}},[i("div",{class:{about:t.expand},attrs:{id:"home-wrapper"}},[i("transition",{attrs:{name:"slide-fade"}},[t.leftShow?i("router-view",{key:t.key,attrs:{name:"left"}}):t._e()],1)],1),t.expand?t._e():i("div",{attrs:{id:"home-side"}},[i("transition",{attrs:{name:"slide-fade"}},[i("router-view",{key:t.key,attrs:{name:"right"}})],1)],1)]),i("transition",{attrs:{name:"slide-fade"}},[i("router-view",{key:t.key,attrs:{name:"bottom"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.footShow,expression:"footShow"}],attrs:{id:"footer"}},[t._v("\n         COPYRIGHT © 1998 - 2019 WOSHINIDIE. ALL RIGHTS RESERVED."),i("br"),t._v("\n         建议PC端访问\n      ")])],1)])},n=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("span",{on:{click:function(e){return t.$router.push("/home")}}},[i("i"),t._v("FunX\n   ")]),t._l(t.$store.state.path,(function(e){return i("span",{on:{click:function(i){return t.$router.push(e.link)}}},[i("i"),t._v(t._s(e.name)+"\n   ")])}))],2)},o=[],c={name:"nowpath",components:{},props:{sonPath:Array},data:function(){return{}}},l=c,u=(i("e7a7"),i("2877")),d=Object(u["a"])(l,r,o,!1,null,"35334ee1",null),m=d.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"z"}},[a("div",{attrs:{id:"bg-navi"}},[a("div",{attrs:{id:"navi"}},[a("img",{attrs:{src:i("3ba5")}}),a("div",{staticClass:"navi-item right phone",on:{click:t.phonePull}},[a("img",{attrs:{src:i("b8f9")}})]),a("transition",{attrs:{name:"slide-fade"}},[t.getPhoneTog?a("div",{staticClass:"navi-item no",class:{active:1==t.id},on:{click:function(e){t.$router.push("/home"),t.id=1,t.phoneClickClose()}}},[a("img",{attrs:{src:i("5ea0")}}),a("p",[t._v("主页")])]):t._e()]),a("transition",{attrs:{name:"slide-fade"}},[t.getPhoneTog?a("div",{staticClass:"navi-item",class:{active:2==t.id},on:{click:function(e){t.$router.push("/category"),t.id=2,t.phoneClickClose()}}},[a("img",{attrs:{src:i("7dd0")}}),a("p",[t._v("目录")])]):t._e()]),a("transition",{attrs:{name:"slide-fade"}},[t.getPhoneTog?a("div",{staticClass:"navi-item",class:{active:3==t.id},on:{click:function(e){t.$router.push("/collection"),t.id=3,t.phoneClickClose()}}},[a("img",{attrs:{src:i("8a9c")}}),a("p",[t._v("工具")])]):t._e()]),a("transition",{attrs:{name:"slide-fade"}},[t.getPhoneTog?a("div",{staticClass:"navi-item",class:{active:4==t.id},on:{click:function(e){t.$router.push("/demo"),t.id=4,t.phoneClickClose()}}},[a("img",{attrs:{src:i("a8cb")}}),a("p",[t._v("Demo")])]):t._e()]),a("transition",{attrs:{name:"slide-fade"}},[t.getPhoneTog?a("div",{staticClass:"navi-item",class:{active:5==t.id},on:{click:function(e){t.$router.push("/about"),t.id=5,t.phoneClickClose()}}},[a("img",{attrs:{src:i("cdc9")}}),a("p",[t._v("关于")])]):t._e()]),a("transition",{attrs:{name:"slide-fade"}},[a("div",{ref:"loginButton",staticClass:"navi-item right login-wrapper",on:{click:function(e){return t.$store.commit("receiveLoginTog")}}},[t.getLoginState>=1?a("img",{staticStyle:{"margin-right":"0.3rem"},attrs:{src:i("f747")}}):t._e(),t.getLoginState>=1?a("p",{attrs:{id:"userLogin-yes"}},[t._v(t._s(t._f("cutUserName")(t.$store.state.login.user)))]):t._e(),t.getLoginState<1?a("img",{staticStyle:{"margin-right":"0.3rem"},attrs:{src:i("e253")}}):t._e(),t.getLoginState<1?a("p",{staticStyle:{"font-size":"1.5rem",color:"#7d7d7d"}},[t._v("\n                  未登录\n               ")]):t._e(),a("transition",{attrs:{name:"login"}},[t.getLoginTog?a("div",{staticClass:"triangle"}):t._e()]),a("transition",{attrs:{name:"login"}},[t.getLoginTog&&0==t.getLoginState?a("div",{staticClass:"login ",on:{click:function(t){t.stopPropagation()}}},[a("div"),a("div",{staticClass:"header",staticStyle:{"font-weight":"bold"},attrs:{id:"login-msg"}},[t._v("\n                        "+t._s(t.login.msg)+"\n                     ")]),a("div",[a("img",{staticClass:"icn",attrs:{src:i("9753")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.user,expression:"login.user"}],attrs:{placeholder:"用户名",maxlength:"10"},domProps:{value:t.login.user},on:{focus:function(t){return t.currentTarget.select()},input:function(e){e.target.composing||t.$set(t.login,"user",e.target.value)}}})]),a("div",[a("img",{staticClass:"icn",attrs:{src:i("e4e0")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.pwd,expression:"login.pwd"}],attrs:{placeholder:"密码",type:"password",maxlength:"16"},domProps:{value:t.login.pwd},on:{focus:function(t){return t.currentTarget.select()},input:function(e){e.target.composing||t.$set(t.login,"pwd",e.target.value)}}})]),a("button",{on:{click:function(e){return t.loginIn(!0)}}},[t._v("登录")]),a("button",{on:{click:function(e){return t.$store.commit("receiveLoginState",-1)}}},[t._v("点此注册")])]):t._e()]),a("transition",{attrs:{name:"login"}},[t.getLoginTog&&-1==t.getLoginState?a("div",{staticClass:"login sign",on:{click:function(t){t.stopPropagation()}}},[a("div"),a("div",{staticClass:"header",staticStyle:{"font-weight":"bold"},attrs:{id:"sign-msg"}},[t._v("\n                        "+t._s(t.sign.msg)+"\n                     ")]),a("div",[a("span",[a("img",{staticClass:"icn",attrs:{src:i("9753")}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sign.user,expression:"sign.user"}],attrs:{maxlength:"10",placeholder:"推荐使用汉字用户名"},domProps:{value:t.sign.user},on:{focus:function(t){return t.currentTarget.select()},input:function(e){e.target.composing||t.$set(t.sign,"user",e.target.value)}}})]),a("div",[a("img",{staticClass:"icn",attrs:{src:i("e4e0")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sign.pwd,expression:"sign.pwd"}],attrs:{maxlength:"16",type:"password",placeholder:"3~16位的密码"},domProps:{value:t.sign.pwd},on:{focus:function(t){return t.currentTarget.select()},input:function(e){e.target.composing||t.$set(t.sign,"pwd",e.target.value)}}})]),a("div"),a("button",{staticClass:"green",on:{click:t.signIn}},[t._v("\n                        注册并登录\n                     ")]),a("button",{on:{click:function(e){return t.$store.commit("receiveLoginState",0)}}},[t._v("返回")])]):t._e()]),a("transition",{attrs:{name:"login"}},[t.getLoginTog&&1==t.getLoginState?a("div",{staticClass:"login logined",on:{click:function(t){t.stopPropagation()}}},[a("div"),a("div",{staticClass:"header",staticStyle:{color:"#4c875d","font-weight":"bold"}},[t._v("\n                        您已登录\n                     ")]),a("img",{attrs:{id:"avatar",src:t.getAvatar}}),a("div",{staticClass:"logined-user",staticStyle:{"text-align":"center","font-size":"1.8rem","font-weight":"bold",color:"#303030"}},[t._v("\n                        "+t._s(this.$store.state.login.user||t.cutUserName)+"\n                     ")]),a("div",{staticClass:"header",staticStyle:{margin:"-0.5rem 0","font-size":"1.4rem",color:"rgb(205, 148, 94)"}},[a("img",{staticClass:"icn",staticStyle:{margin:"0 0.4rem 0 0",width:"2rem","vertical-align":"-0.6rem"},attrs:{src:i("c613")}}),t._v(t._s(t.$store.state.login.lookNum>0?t.$store.state.login.lookNum:t.textRead)+"\n                        "),a("img",{staticClass:"icn",staticStyle:{margin:"0 0.4rem",width:"2rem","vertical-align":"-0.6rem"},attrs:{src:i("a051")}}),t._v(t._s(t.$store.state.login.sayNum>0?t.$store.state.login.sayNum:t.textSay)+"\n                     ")]),a("div",{staticStyle:{"line-height":"1.5","text-align":"center",color:"#525252","min-height":"3.8rem","margin-left":"1.5rem","margin-right":"1.5rem"}},[t._v("\n                        "+t._s(this.$store.state.login.quote)+"\n                     ")]),a("button",{on:{click:t.toMutate}},[t._v("修改资料")]),a("button",{staticClass:"red",on:{click:t.quit}},[t._v("退出用户")])]):t._e()]),a("transition",{attrs:{name:"login"}},[t.getLoginTog&&2==t.getLoginState?a("div",{staticClass:"login mutate",on:{click:function(t){t.stopPropagation()}}},[a("div"),a("div",{staticClass:"header",staticStyle:{"font-weight":"bold"}},[t._v("\n                        修改个人资料\n                     ")]),a("img",{attrs:{id:"avatar",src:t.getAvatar}}),a("div",{staticClass:"logined-user",staticStyle:{"text-align":"center","font-size":"1.8rem","font-weight":"bold",color:"#303030"}},[t._v("\n                        "+t._s(this.$store.state.login.user)+"\n                     ")]),a("div",[a("img",{staticClass:"icn",attrs:{src:i("e4e0")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mutate.old,expression:"mutate.old"}],attrs:{type:"password",maxlength:"16",placeholder:"旧密码"},domProps:{value:t.mutate.old},on:{input:function(e){e.target.composing||t.$set(t.mutate,"old",e.target.value)}}})]),a("div",[a("img",{staticClass:"icn",attrs:{src:i("e4e0")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mutate.new,expression:"mutate.new"}],attrs:{type:"password",maxlength:"16",placeholder:"新密码"},domProps:{value:t.mutate.new},on:{input:function(e){e.target.composing||t.$set(t.mutate,"new",e.target.value)}}})]),a("div",{staticClass:"header"},[t._v("若不修改密码，以上可留空")]),a("div",[a("img",{staticClass:"icn",attrs:{src:i("89de")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mutate.quote,expression:"mutate.quote"}],domProps:{value:t.mutate.quote},on:{focus:function(t){return t.currentTarget.select()},input:function(e){e.target.composing||t.$set(t.mutate,"quote",e.target.value)}}})]),a("div",[a("img",{staticClass:"icn",attrs:{src:i("6ccf")}}),a("div",{staticClass:"upload-wrapper"},[a("input",{ref:"upload",attrs:{type:"file",name:"avatar"},on:{change:t.getFiles}}),a("input",{staticClass:"upload-text",attrs:{disabled:"",placeholder:t.fileName}}),a("div",{staticClass:"upload"},[a("button",{on:{click:function(e){return t.$refs.upload.click()}}},[t._v("上传头像")])])])]),a("button",{staticClass:"green",on:{click:t.mutateIn}},[t._v("\n                        保存修改\n                     ")]),a("button",{on:{click:function(e){return t.$store.commit("receiveLoginState",1)}}},[t._v("返回")])]):t._e()]),a("transition",{attrs:{name:"login"}},[t.getLoginTog&&3==t.getLoginState?a("div",{staticClass:"login guide",on:{click:function(t){t.stopPropagation()}}},[a("div"),a("div",{staticClass:"header",staticStyle:{color:"#4c875d","font-weight":"bold","margin-bottom":"0.5rem"}},[t._v("\n                        已注册完成\n                     ")]),a("div",{staticClass:"header",staticStyle:{color:"#4c875d","font-weight":"bold","margin-top":"0.5rem"}},[t._v("\n                        建议完善个人头像等信息\n                     ")]),a("img",{attrs:{id:"avatar",src:t.getAvatar}}),a("div",{staticClass:"logined-user",staticStyle:{"text-align":"center","font-size":"1.8rem","font-weight":"bold",color:"#303030"}},[t._v("\n                        "+t._s(this.$store.state.login.user)+"\n                     ")]),a("div",[a("img",{staticClass:"icn",attrs:{src:i("89de")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mutate.quote,expression:"mutate.quote"}],attrs:{placeholder:"个性签名"},domProps:{value:t.mutate.quote},on:{focus:function(t){return t.currentTarget.select()},input:function(e){e.target.composing||t.$set(t.mutate,"quote",e.target.value)}}})]),a("div",[a("img",{staticClass:"icn",attrs:{src:i("6ccf")}}),a("div",{staticClass:"upload-wrapper"},[a("input",{ref:"upload",attrs:{type:"file",name:"avatar"},on:{change:t.getFiles}}),a("input",{staticClass:"upload-text",attrs:{disabled:"",placeholder:t.fileName}}),a("div",{staticClass:"upload"},[a("button",{on:{click:function(e){return t.$refs.upload.click()}}},[t._v("上传头像")])])])]),a("button",{staticClass:"green",on:{click:function(e){return t.mutateIn("sign")}}},[t._v("完成")])]):t._e()])],1)]),a("transition",{attrs:{name:"slide-fade"}},[t.getPhoneTog?a("div",{staticClass:"navi-other right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"搜索文章..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{on:{click:function(e){return t.searchIn(t.search)}}},[t._v("搜索")])]):t._e()])],1)])])},p=[],g=(i("7f7f"),{name:"navi",components:{},filters:{cutUserName:function(t){for(var e=0,i=0;i<t.length;i++)if(t.charCodeAt(i)>127||94==t.charCodeAt(i)?e+=2:e++,console.log(e),e>=10)return t.substring(0,i).concat("..");return t}},computed:{getAvatar:function(){return this.$store.state.login.avatar},getLoginTog:function(){return this.$store.state.loginTog},getLoginState:function(){return this.$store.state.loginState},getPhoneTog:function(){return this.$store.state.phoneTog}},methods:{getFiles:function(t){var e=this;if(t.preventDefault(),t.target.files[0].size>=1048576)this.$alert("头像文件大于1M啦","false");else{var i=new FormData;this.fileName=t.target.files[0].name,i.append("file",t.target.files[0]),i.append("user_id",this.Cookies.get("_id")),i.append("user_name",this.$store.state.login.user);var a={headers:{"Content-Type":"multipart/form-data"}};this.$http.post("/upload/avatar",i,a).then((function(t){e.$store.state.login.avatar=t.data.path}))}},phoneClickClose:function(){var t=this;document.body.clientWidth>768||(this.$store.commit("receiveLoginTog",!1),setTimeout((function(){t.$store.commit("receivePhoneTog",!1)}),50))},clearAllMsg:function(){},searchIn:function(t){""!=t?this.$router.push("/category?search="+t):this.$alert("搜索内容不能为空噢！","false")},phonePull:function(){var t=this;1==this.getPhoneTog&&1==this.getLoginTog?(this.$store.commit("receiveLoginTog",!1),setTimeout((function(){t.$store.commit("receivePhoneTog")}),150)):this.$store.commit("receivePhoneTog")},loginIn:function(t){var e=this;this.clearAllMsg(),this.$http.post("/login-in",this.login).then((function(i){1==i.data.success?(e.$emit("triggerLogin"),e.Cookies.set("_id",i.data._id),e.$getUserInfo(),1==t?e.$store.commit("receiveLoginState",1):e.$store.commit("receiveLoginState",3),1==t&&e.$alert(i.data.msg,"true")):0==i.data.success&&e.$alert(i.data.msg,"false")})).catch()},quit:function(){this.clearAllMsg(),this.$emit("triggerLogin"),this.$store.commit("receiveLoginState",0),this.Cookies.set("_id",""),this.$store.state.login.user="",this.$store.state.login.quote="",this.$store.state.login.avatar="",this.$store.state.login.sayNum=0,this.$store.state.login.lookNum=0,this.$alert("您已经退出","tips")},signIn:function(){var t=this;this.$http.post("/sign",this.sign).then((function(e){1==e.data.success?(t.login.user=t.sign.user,t.login.pwd=t.sign.pwd,t.loginIn(!1)):0==e.data.success&&t.$alert(e.data.msg,"false")})).catch()},toMutate:function(){this.$store.commit("receiveLoginState",2),this.mutate.old="",this.mutate.new="",this.mutate.quote=this.$store.state.login.quote,this.mutate.user=this.$store.state.login.user},mutateIn:function(){var t=this;this.mutate.user=this.$store.state.login.user,this.mutate.avatar=this.$store.state.login.avatar,this.$http.post("/mutate",this.mutate).then((function(e){1==e.data.success?(t.$getUserInfo(),console.log("话"+t.$store.state.login.quote),t.$store.commit("receiveLoginState",1),t.$alert(e.data.msg,"true")):0==e.data.success&&t.$alert(e.data.msg,"false")})).catch()},changeBar:function(t){switch(t){case"/home":this.id=1;break;case"/category":this.id=2;break;case"/collection":this.id=3;break;case"/demo":this.id=4;break;case"/about":this.id=5;break}}},data:function(){return{id:1,login:{msg:"登录到Funx",user:"",pwd:""},sign:{msg:"仅需两步，注册到Funx",user:"",pwd:"",quote:"",avatar:"http://i1.fuimg.com/700071/e96370d70f7b03ad.jpg"},mutate:{user:"",old:"",new:"",quote:"",avatar:""},guide:{},fileName:"还没有上传头像哦",search:"",textSay:"暂无评论",textRead:"暂无阅读"}},created:function(){var t=this;this.changeBar(this.$route.path),document.body.clientWidth<=768&&this.$store.commit("receivePhoneTog",!1),this.$getUserInfo();var e=this.Cookies.get("_id");e&&""!=e&&this.$store.commit("receiveLoginState",1),document.addEventListener("click",(function(e){function i(t,e){return!!e&&(!t||!(t!=e&&!t.contains(e)))}var a=document.querySelector(".login"),s=document.querySelector(".login-wrapper"),n=document.querySelector("#bg-navi"),r=document.querySelector(".phone"),o=e.target;if(null!=o)return document.body.clientWidth<=768?i(n,o)||i(r,o)?void 0:(t.$store.commit("receiveLoginTog",!1),void setTimeout((function(){t.$store.commit("receivePhoneTog",!1)}),50)):void(i(a,o)||i(s,o)||t.$refs.loginButton.click())}))},watch:{"$store.state.phoneTog":function(t){console.log("watch"+t);var e=document.getElementById("bg-navi"),i=document.getElementById("navi");1==t?(e.style.maxHeight="40rem",i.style.maxHeight="40rem"):(e.style.maxHeight="4.4rem",i.style.maxHeight="4.4rem")},$route:{handler:function(t){this.changeBar(t.path)}}},mounted:function(){var t=this,e=null;window.onresize=function(){e||(e=setTimeout((function(){var i=document.body.clientWidth;i<=768?t.$store.commit("receivePhoneTog",!1):t.$store.commit("receivePhoneTog",!0),e=null}),50))}}}),f=g,v=(i("f891"),Object(u["a"])(f,h,p,!1,null,"79e613d9",null)),_=v.exports,b={name:"app",components:{navi:_,nowpath:m},data:function(){return{leftShow:!0,mainShow:!1,footShow:!1,naviShow:!1,expand:!1}},computed:{key:function(){return this.$route.path+Math.random()}},methods:{cutTitle:function(t){var e=0,i=0;for(i=0;i<t.length;i++)if(t.charCodeAt(i)>127||94==t.charCodeAt(i)?e+=2:e++,e>=20)return t.slice(0,i-1).concat("..");return t},refresh:function(){var t=this;this.leftShow=!1,this.$nextTick((function(){t.leftShow=!0}))},changePath:function(t){this.expand=!1;var e=3;switch(t.path){case"/home":this.$store.state.path=[{name:"主页",link:"/home"}];break;case"/read":this.$store.state.path.splice(1,e,{name:this.cutTitle(this.$store.state.title),link:"/read?id="+this.$route.query.id});break;case"/category":this.$store.state.path=[{name:"分类目录",link:"/category"}];break;case"/collection":this.$store.state.path=[{name:"收藏",link:"/collection"}];break;case"/demo":this.$store.state.path=[{name:"Demo",link:"/demo"}];break;case"/about":this.expand=!0,this.$store.state.path=[{name:"关于",link:"/about"}];break;case"/edit":this.expand=!0,this.$store.state.path.splice(1,e,{name:this.cutTitle(this.$store.state.title),link:"/read?id="+this.$route.query.id},{name:"编辑模式",link:"/edit?id="+this.$route.query.id});break;default:this.path=[{name:"主页",link:"/home"}]}}},watch:{$route:function(t){var e=this;setTimeout((function(){e.changePath(t)}),50)}},created:function(){var t=this;setTimeout((function(){t.changePath({path:t.$route.path}),t.footShow=!0}),70)},mounted:function(){var t=this;this.mainShow=!0,setTimeout((function(){t.naviShow=!0}),200),document.body.removeChild(document.getElementById("appLoading"))}},y=b,w=(i("034f"),Object(u["a"])(y,s,n,!1,null,null,null)),$=w.exports,C=i("8c4f"),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.articles,(function(e){return a("div",{staticClass:"home-item"},[a("router-link",{attrs:{to:"/read?id="+e._id}},[a("h1",[t._v(t._s(e.title))])]),""!=e.image?a("img",{attrs:{src:e.image},on:{click:function(i){return t.$router.push("/read?id="+e._id)}}}):t._e(),a("p",{staticClass:"label"},t._l(e.label,(function(e){return a("router-link",{attrs:{to:"/category?label="+e}},[a("img",{attrs:{src:i("6779")}}),t._v(t._s(e)+"\n         ")])})),1),a("p",[t._v("\n         "+t._s(e.body))]),a("p",[a("span",[t._v(t._s(e.time))]),a("span",[a("img",{staticClass:"info-i",attrs:{src:i("eb58")}}),t._v(t._s(e.author))]),a("span",[a("img",{staticClass:"info-i",attrs:{src:i("52ab")}}),t._v(t._s(e.lookNum))]),a("span",[a("img",{staticClass:"info-i",attrs:{src:i("d30f")}}),t._v(t._s(e.sayNum))])])],1)})),0)},k=[],T={name:"home",components:{},data:function(){return{articles:{}}},created:function(){var t=this;this.$http.post("/articles").then((function(e){t.articles=e.data})).catch((function(t){}))},filters:{}},S=T,L=(i("45c8"),Object(u["a"])(S,x,k,!1,null,"2744a979",null)),q=L.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("h1",[t._v("关于...")]),a("div",{attrs:{id:"sky"}}),a("div",{style:{height:t.iHeight},attrs:{id:"iframe-wrapper"}},[a("iframe",{style:{transform:"scale("+t.long+")"},attrs:{src:t.src,frameborder:"0"}})]),t._l(t.List,(function(e,s){return a("div",{staticClass:"item"},[a("h2",[a("img",{staticClass:"icn",attrs:{src:i("393b")}}),t._v(" "+t._s(t.getVer(e.ver,s))+"\n           "),a("img",{staticClass:"icn",attrs:{src:i("8277")}}),t._v(" "+t._s(e.time)+"\n       ")]),t._l(e.body,(function(e){return a("h3",[t._v(t._s(e))])}))],2)})),t._m(0)],2)},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item",staticStyle:{"margin-bottom":"1.5rem"}},[a("h2",[a("img",{staticClass:"icn",staticStyle:{width:"3.1rem"},attrs:{src:i("fe60")}}),t._v("\n       vue-cli vue-router vuex nodejs lottie ZRender\n    ")])])}],O=(i("c5f6"),{name:"About",computed:{iWidth:function(){return document.body.clientWidth+"px"},iHeight:function(){return 550*this.long+"px"},long:function(){var t=Number(document.body.clientWidth)/700;return t>=1?1:t}},methods:{getVer:function(t,e){if(""!=t)return t;var i=this.verBase+e,a=String((i/100).toFixed(2));return a.slice(0,3)+"."+a.slice(3)}},data:function(){return{src:"/funx.html",verBase:5,List:[{ver:"",time:"2019.10.06",body:["个人资料：头像上传后立即刷新","关于页面：ae动画增加交互、移动端缩放","大图片改为外链"]},{ver:"",time:"2019.10.07",body:["侧边栏：饼图和折线图（echarts是给调参侠用的"]},{ver:"",time:"2019.10.08",body:["导航栏：全新的响应式设计"]},{ver:"",time:"2019.10.08",body:["阅读页面：全部添加了新样式"]}]}},mounted:function(){}}),j=O,E=(i("4695"),Object(u["a"])(j,P,N,!1,null,"6c78f4ee",null)),F=E.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"edit-wrapper"}},[i("span",{attrs:{id:"title-text"}},[t._v("标题：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.article.title,expression:"article.title"}],attrs:{id:"title"},domProps:{value:t.article.title},on:{input:function(e){e.target.composing||t.$set(t.article,"title",e.target.value)}}}),t.isAdmin?i("button",{on:{click:t.save}},[t._v("\n      "+t._s(t.saveText)+"\n   ")]):t._e(),i("img",{attrs:{id:"pic-img",src:t.article.image}}),i("p",{attrs:{id:"label"}},[t._v("\n      标签：\n      "),t._l(t.article.label,(function(e,a){return i("a",[t._v("\n         "+t._s(e)),i("button",{on:{click:function(e){return t.deleteLabel(a)}}},[t._v("×")])])})),i("input",{directives:[{name:"model",rawName:"v-model",value:t.labelText,expression:"labelText"}],attrs:{placeholder:"添加标签"},domProps:{value:t.labelText},on:{input:function(e){e.target.composing||(t.labelText=e.target.value)}}}),i("button",{on:{click:t.addLabel}},[t._v("+")]),i("span",{attrs:{id:"pic"}},[t._v("\n            文章封面图："),i("input",{directives:[{name:"model",rawName:"v-model",value:t.article.image,expression:"article.image"}],attrs:{placeholder:"输入外链"},domProps:{value:t.article.image},on:{focus:function(t){return t.currentTarget.select()},input:function(e){e.target.composing||t.$set(t.article,"image",e.target.value)}}})])],2),i("div",{ref:"editor",attrs:{id:"editor"}})])},I=[],z=i("1a0b"),M=i.n(z),D=(i("f976"),i("822e"),{name:"edit",components:{},data:function(){return{article:{},isAdmin:0,labelText:"",saveText:"保存"}},created:function(){var t=this;this.$http.post("/if-admin",{_id:this.Cookies.get("_id")}).then((function(e){1==e.data.success?t.isAdmin=1:(alert("别瞎鸡儿乱进，求你了"),t.$router.go(-1))}))},mounted:function(){var t=this,e=this.$route.query.id;if("undefined"==typeof e){this.article={},this.article.title="新的文章",this.article.body="<p>新的内容</p>",this.article.label=[],this.article.image="";var i=new M.a(this.$refs.editor);return i.create(),i.txt.html(this.article.body),document.getElementsByClassName("w-e-text-container")[0].style.height=window.innerHeight-230+"px",void(this.saveText="新增")}this.$http.post("/article",{_id:e}).then((function(e){t.article=e.data[0],t.$store.state.title=t.article.title,"-1"==e.data._id&&(t.article.title="1");var i=new M.a(t.$refs.editor);i.customConfig.onchange=function(e){t.article.body=e,t.editorContent=e},i.create(),i.txt.html(t.article.body),document.getElementsByClassName("w-e-text-container")[0].style.height=window.innerHeight-230+"px"})).catch()},methods:{addLabel:function(){""!=this.labelText&&this.article.label.push(this.labelText)},deleteLabel:function(t){this.article.label.splice(t,1)},save:function(){var t=this;console.log(this.article),"undefined"!=typeof this.$route.query.id?this.$http.post("/article-save",{article:this.article,user_id:this.Cookies.get("_id")}).then((function(e){1==e.data.success&&(t.$alert("编辑成功！","true"),t.$router.push("/read?id="+t.article._id))})).catch():this.$http.post("/article-new",{article:this.article,user_id:this.Cookies.get("_id")}).then((function(e){1==e.data.success&&(t.$alert("添加新文章成功！","true"),t.$router.push("/read?id="+e.data.article_id))})).catch()}}}),B=D,H=(i("d0cc"),Object(u["a"])(B,A,I,!1,null,"15d382b7",null)),R=H.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"read-wrapper"}},[a("h1",[t._v("\n      "+t._s(t.article.title)+"\n   ")]),a("p",[t._v("\n      标签：\n      "),t._l(t.article.label,(function(e){return a("router-link",{attrs:{to:"/category?label="+e}},[a("img",{attrs:{src:i("6779")}}),t._v(t._s(e)+"\n      ")])})),t.isAdmin?a("button",{staticClass:"red",attrs:{id:"delete"},on:{click:t.deleteIn}},[t._v("\n         删除\n      ")]):t._e(),t.isAdmin?a("button",{attrs:{id:"edit"},on:{click:function(e){return t.$router.push("/edit?id="+t.$route.query.id)}}},[t._v("\n         编辑\n      ")]):t._e(),t.isAdmin?a("button",{staticClass:"green",attrs:{id:"edit"},on:{click:function(e){return t.$router.push("/edit")}}},[t._v("\n            新增\n      ")]):t._e()],2),a("p",[a("span",[t._v(t._s(t.article.time))]),a("span",[a("img",{staticClass:"info-i",attrs:{src:i("eb58")}}),t._v(t._s(t.article.author))]),a("span",[a("img",{staticClass:"info-i",attrs:{src:i("52ab")}}),t._v(t._s(t.article.lookNum))]),a("span",[a("img",{staticClass:"info-i",attrs:{src:i("d30f")}}),t._v(t._s(t.article.sayNum))])]),a("div",{directives:[{name:"highlight",rawName:"v-highlight"}],attrs:{id:"read-body"},domProps:{innerHTML:t._s(t.article.body)}})])},U=[],Y={name:"read",components:{},methods:{refresh:function(){var t=this,e=this.$route.query.id;this.$http.post("/article",{_id:e,user_id:this.Cookies.get("_id")}).then((function(e){t.article=e.data[0],t.$store.state.invalidArticle=!1,-1==t.article.lookNum&&(t.$store.state.invalidArticle=!0),t.$store.state.title=t.article.title})).catch((function(t){})),this.$http.post("/if-admin",{_id:this.Cookies.get("_id")}).then((function(e){1==e.data.success&&(t.isAdmin=1)}))},deleteIn:function(){var t=this,e=confirm("确定要删除《".concat(this.article.title,"》吗？"));1==e&&(console.log(this.article._id),this.$http.post("/article-delete",{_id:this.article._id}).then((function(e){1==e.data.success&&(t.$alert(e.data.message,"true"),t.$router.go(-1))})).catch((function(t){})))}},data:function(){return{article:{},isAdmin:0}},created:function(){this.refresh()},mounted:function(){}},V=Y,G=(i("52ce"),Object(u["a"])(V,W,U,!1,null,"d0695cc4",null)),J=G.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"review-big-wrapper"}},[a("div",{attrs:{id:"review-wrapper"}},[a("p",{staticClass:"head"},[t._v("说出你的想法")]),a("div",{attrs:{id:"user-say"}},[a("div",{staticClass:"info"},[a("img",{staticClass:"say-avatar",attrs:{src:t.getSayAvatar()}}),a("p",{staticClass:"say-name"},[t._v(t._s(t.$store.state.login.user))])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"textarea",attrs:{placeholder:""==t.$store.state.login.avatar?"还没有登录呢":"来说点什么..."},domProps:{value:t.msg},on:{click:function(e){return t.judgeAndSign()},input:function(e){e.target.composing||(t.msg=e.target.value)}}},[t._v(t._s(t.msg))]),t.$store.state.invalidArticle?t._e():a("button",{staticClass:"send",class:{biggrey:""==t.$store.state.login.avatar},on:{click:function(e){return t.reviewIn(-1)}}},[t._v("\n            发布评论\n         ")])]),a("p",{staticClass:"head",staticStyle:{"margin-top":"6.5rem"}},[t._v("来看看TA们都说了什么")]),t._l(t.reviews,(function(e,s){return a("div",{staticClass:"say"},[a("div",{staticClass:"info"},[a("img",{staticClass:"p-avatar",attrs:{src:e.user_avatar}})]),a("p",{staticClass:"p-name"},[t._v("\n            "+t._s(e.user_name)+"\n            "),a("span",{staticClass:"p-time"},[t._v(t._s(e.time))])]),a("div",{staticClass:"p-body"},[t._v("\n            "+t._s(e.body)+"\n             "),0!=e.children.length?a("div",{staticClass:"nest-wrapper"},t._l(e.children,(function(i){return a("p",{staticClass:"nest"},[a("img",{attrs:{src:i.user_avatar}}),a("span",{staticClass:"n-name"},[t._v(t._s(i.user_name))]),t.judgeSon(i,e)?a("span",{staticClass:"n-default"},[t._v("回复")]):t._e(),t.judgeSon(i,e)?a("img",{attrs:{src:i.reply_avatar}}):t._e(),t.judgeSon(i,e)?a("span",{staticClass:"n-name"},[t._v(t._s(i.reply_name))]):t._e(),t._v("："+t._s(i.body)+"\n                  "),a("br"),t._v(" \n                  "),a("span",{staticClass:"n-reply",class:{grey:""==t.$store.state.login.avatar},on:{click:function(e){return t.smallBox(s,i)}}},[t._v("回复")]),a("span",{staticClass:"n-time"},[t._v(t._s(i.time))])])})),0):t._e(),0==e.children.length?a("br"):t._e(),a("span",{staticClass:"reply",class:{grey:""==t.$store.state.login.avatar},on:{click:function(i){return t.smallBox(s,e)}}},[a("img",{attrs:{src:i("9ac5")}}),t._v("回复")]),a("transition",{attrs:{name:"stretch"}},[t.replyShow[s]&&""!=t.$store.state.login.avatar?a("div",{staticClass:"n-box"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyMsg[s],expression:"replyMsg[index]"}],staticClass:"textarea n-textarea",attrs:{placeholder:t.replyHolder[s]},domProps:{value:t.replyMsg[s]},on:{input:function(e){e.target.composing||t.$set(t.replyMsg,s,e.target.value)}}}),a("button",{staticClass:"send",on:{click:function(e){return t.reviewIn(s)}}},[t._v("回复")])]):t._e()])],1)])})),0==t.reviews.length?a("div",{staticClass:"say",attrs:{id:"no-reviews"}},[t._m(0)]):t._e()],2),a("div",{attrs:{id:"white"}})])},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"no-reviews-body"}},[a("img",{attrs:{src:i("1433")}}),a("span",[t._v("评论？现在还没有哦")])])}],K=(i("ac4d"),i("8a81"),{name:"review",methods:{judgeAndSign:function(){var t=this;""==this.$store.state.login.avatar&&setTimeout((function(){t.$store.commit("receiveLoginState",-1),t.$store.commit("receiveLoginTog",!0)}),10)},judgeSon:function(t,e){return t.dad_id!=e._id},smallBox:function(t,e){var i=this;if(""!=this.$store.state.login.avatar){var a=e._id;if(a!=this.replyData[t]._id){this.replyData[t]._id=a,this.replyData[t].user_id_obj=e.user_id_obj,this.replyShow.splice(t,1,!0);var s=e.body,n=e.user_name;this.replyHolder.splice(t,1,"回复".concat(n,"的“").concat(s,"”"))}else{var r=this.replyShow[t]=!this.replyShow[t];this.replyShow.splice(t,1,r)}}else setTimeout((function(){i.$store.commit("receiveLoginState",-1),i.$store.commit("receiveLoginTog",!0)}),10)},getSayAvatar:function(){return""==this.$store.state.login.user?i("ccdb"):this.$store.state.login.avatar},reviewIn:function(t){var e=this;if(""!=this.$store.state.login.avatar){var i,a,s;-1==t?(i="",a=this.Cookies.get("_id"),s=this.msg):(i=this.replyData[t]._id,a=this.replyData[t].user_id_obj,s=this.replyMsg[t]);var n={body:s,user_id_obj:this.Cookies.get("_id"),article_id:this.$route.query.id,dad_id:i,reply_id_obj:a};this.$http.post("/review",n).then((function(t){1==t.data.success?(e.$alert(t.data.msg,"true"),e.refreshReview(),e.msg=""):e.$alert(t.data.msg,"false")}))}else setTimeout((function(){e.$store.commit("receiveLoginState",-1),e.$store.commit("receiveLoginTog",!0)}),10)},refreshReview:function(){var t=this,e={article_id:this.$route.query.id};this.$http.post("/getReviews",e).then((function(e){if(1==e.data.success){t.reviews=e.data.data;var i=!0,a=!1,s=void 0;try{for(var n,r=e.data.data[Symbol.iterator]();!(i=(n=r.next()).done);i=!0){n.value;t.replyShow.push(!1),t.replyHolder.push(""),t.replyMsg.push(""),t.replyData.push({_id:"",user_id_obj:""})}}catch(o){a=!0,s=o}finally{try{i||null==r.return||r.return()}finally{if(a)throw s}}}}))}},data:function(){return{reviews:[],msg:"",nMsg:"",replyShow:[],replyHolder:[],replyMsg:[],replyData:[]}},mounted:function(){this.refreshReview()}}),Q=K,tt=(i("b726"),Object(u["a"])(Q,X,Z,!1,null,"b039be7c",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"home-item"},[a("div",{attrs:{id:"title"}},[t._v(t._s(t.msg))])]),"search"==t.mode?a("div",{staticClass:"home-item"},[0!=t.categories.length?a("div",{staticClass:"label-wrapper"},[a("img",{staticClass:"label-img",attrs:{src:i("6779")}}),a("span",{staticClass:"label"},[t._v("找到"+t._s(t.categories.length)+"条内容：")])]):t._e(),t._l(t.categories,(function(e){return a("div",{staticClass:"item-wrapper"},[a("div",{staticClass:"item-time"},[t._v(t._s(e.time))]),a("p",{staticClass:"item-title",on:{click:function(i){return t.$router.push("/read?id="+e._id)}}},[t._v(t._s(e.title))])])}))],2):t._e(),"search"==t.mode&&0==t.categories.length?a("div",{attrs:{id:"no-reviews"}},[t._m(0)]):t._e(),t._l(t.categories,(function(e,s){return"label"==t.mode?a("div",{staticClass:"home-item"},[a("div",{staticClass:"label-wrapper",on:{click:function(i){return t.$router.push("/category?label="+e.label)}}},[a("img",{staticClass:"label-img",attrs:{src:i("6779")}}),a("span",{staticClass:"label",style:{color:t.pieColor[s]}},[t._v(t._s(e.label)+" 标签：")])]),t._l(e.data,(function(e){return a("div",[a("div",{staticClass:"item-wrapper"},[a("div",{staticClass:"item-time"},[t._v(t._s(e.time))]),a("p",{staticClass:"item-title",on:{click:function(i){return t.$router.push("/read?id="+e._id)}}},[t._v(t._s(e.title))])])])}))],2):t._e()}))],2)},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"no-reviews-body"}},[a("img",{attrs:{src:i("1433")}}),a("span",[t._v("好伤心，什么也没搜到哦...")])])}],st=(i("386d"),{name:"category",components:{},data:function(){return{categories:[],msg:"",msgTog:"",mode:"label",pieColor:["#FFB876","#FFD476","#FF8076","#899CD6","#7CC4EC","#FF9966","#FF6666"]}},created:function(){this.refresh()},methods:{refresh:function(){var t=this,e=this.$route.query.label,i=this.$route.query.search;"undefined"!=typeof i?this.$http.post("/category-search",{search:i}).then((function(e){t.msg="搜索：".concat(i),t.mode="search",t.categories=e.data})):this.$http.post("/category-label").then((function(i){if(t.msg="按标签分类：",e)for(var a in i.data)if(i.data[a].label==e){var s=[];s.push(i.data[a]),i.data=s,t.mode="label",t.msg="筛选".concat(s[0].label,"标签的文章");break}t.categories=i.data})).catch((function(t){}))}}}),nt=st,rt=(i("5cdc"),Object(u["a"])(nt,it,at,!1,null,"7bbe843e",null)),ot=rt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:i("026e")}}),t._m(0),a("p",{ref:"msgDOM",domProps:{innerHTML:t._s(t.msg)}}),a("div",{attrs:{id:"me"}},[a("img",{staticClass:"disable",attrs:{src:i("4569")}}),a("img",{staticClass:"able",attrs:{src:i("b3c4")},on:{click:function(e){t.$refs.bilibili.click(),t.msg="古有高宗讳构，今有稻花丰年<br>臭虫论者犹在，愿化飞蝇漫天<br>莫笑横刀向天，纵使批满佞奸<br>带头送塔不亏，只为车轮向前",t.$refs.msgDOM.style.color="rgb(255, 148, 157)",t.$refs.msgDOM.style.lineHeight="2.0"}}}),a("img",{staticClass:"disable",attrs:{src:i("74d4")}}),a("img",{staticClass:"disable",attrs:{src:i("c6ff")}}),a("a",{ref:"bilibili",attrs:{href:"https://space.bilibili.com/29177789",target:"_blank"}})])])},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("ViridianFairy"),a("img",{attrs:{src:i("5419")}})])}],ut={name:"About",data:function(){return{msg:"谢邀 人在铁岭 刚下拖拉机"}}},dt=ut,mt=(i("8289"),Object(u["a"])(dt,ct,lt,!1,null,"72f683f0",null)),ht=mt.exports,pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"side-button-wrapper"}}),i("ul",t._l(t.articles,(function(e){return i("li",{on:{click:function(t){}}},[t._v("\n         "+t._s(e.title)+"\n      ")])})),0)])},gt=[],ft={name:"About",data:function(){return{articles:[]}},methods:{},mounted:function(){var t=this;this.$http.post("/articles").then((function(e){t.articles=e.data})).catch()}},vt=ft,_t=(i("624c"),Object(u["a"])(vt,pt,gt,!1,null,"ab93cef8",null)),bt=_t.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"wrapper"}},[i("div",{attrs:{id:"title"}},[t._v("标签分布")]),i("div",{ref:"labelChart",attrs:{id:"labelChart"}}),i("transition-group",{attrs:{name:"chart-fade"}},t._l(t.categories,(function(e,a){return i("div",{key:a,staticClass:"label-text",on:{mouseover:function(e){return t.animateIn(a)},mouseout:function(e){return t.animateOut(a)}}},[i("span",{ref:a,refInFor:!0,staticClass:"block",style:{backgroundColor:t.pieColor[a]}}),t._v("\n      "+t._s(e.label)+" ("+t._s(e.data.length)+")\n   ")])})),0),i("div",{staticClass:"title2",attrs:{id:"title"}},[t._v("挖坑记录")]),i("div",{ref:"timeChart",attrs:{id:"timeChart"}})],1)},wt=[],$t=i("1a3b"),Ct=i.n($t),xt={name:"About",methods:{animateIn:function(t){this.openAnimate&&(this.sector[t].animateTo({shape:{r:87},style:{shadowBlur:4,shadowOffsetY:1}},60,"cirlularOut"),this.$refs[t][0].style.width="1.4rem")},animateOut:function(t){this.openAnimate&&(this.sector[t].animateTo({shape:{r:80},style:{shadowBlur:0,shadowOffsetY:0}},120,"cirlularOut"),this.$refs[t][0].style.width="0.7rem")},quantTextIn:function(t){this.quantText[t].animateTo({style:{opacity:1}},120,"cirlularOut"),this.quantCircle[t].animateTo({style:{shadowBlur:8,shadowOffsetY:2}},120,"cirlularOut")},quantTextOut:function(t){this.quantText[t].animateTo({style:{opacity:0}},120,"cirlularOut"),this.quantCircle[t].animateTo({style:{shadowBlur:0,shadowOffsetY:0}},120,"cirlularOut")}},data:function(){return{zr:null,categories:[],pieData:[],pieColor:["#FFB876","#FFD476","#FF8076","#899CD6","#7CC4EC","#FF9966","#FF6666"],sector:[],openAnimate:!1,timers:[],zr2:null,quantText:[],quantCircle:[]}},mounted:function(){var t=this;this.$http.post("/category-label").then((function(e){t.categories=e.data,t.zr=Ct.a.init(t.$refs.labelChart);var i=0,a=[],s=[],n=!0,r=!1,o=void 0;try{for(var c,l=t.categories[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var u=c.value;i+=u.data.length}}catch(p){r=!0,o=p}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}var d=function(e){t.pieData.unshift({name:t.categories[e].label,value:t.categories[e].data.length/i}),a.push(0),s.push(0),a[e]=s[e-1]/1e3||0,t.pieData.forEach((function(t,i){s[e]+=t.value/1e3})),h=new Ct.a.Sector({position:[10,5],shape:{cx:80,cy:80,r:80,r0:25,startAngle:a[e],endAngle:s[e]},style:{shadowColor:"rgb(72, 76, 77, 0.3)",fill:t.pieColor[e],lineWidth:2,stroke:"rgb(255, 239, 224)"},onmouseover:function(){t.animateIn(e)},onmouseout:function(){t.animateOut(e)},cursor:"normal"}),h.animateTo({shape:{startAngle:(s[e-1]||0)*Math.PI*2*1e3,endAngle:s[e]*Math.PI*2*1e3}},700,"quarticInOut",(function(){t.openAnimate=!0})),t.zr.add(h),t.sector.push(h)};for(var m in t.categories){var h;d(m)}})).catch((function(t){})),this.$http.post("/category-time").then((function(e){var i=new Date,a=i.getFullYear(),s=i.getMonth()+1;t.timers=e.data,t.zr2=Ct.a.init(t.$refs.timeChart),t.zr2.add(new Ct.a.Line({shape:{x1:2,y1:170,x2:2,y2:20},style:{lineWidth:3,stroke:"#FFEFE0"},cursor:"normal"})),t.zr2.add(new Ct.a.Line({shape:{x1:2,y1:170,x2:170,y2:170},style:{lineWidth:3,stroke:"#FFEFE0"},cursor:"normal"}));for(var n=165,r=38,o=function(e){l=t.timers.length-e-1,console.log(n-r*l),e!=t.timers.length-1&&(u=new Ct.a.Line({shape:{x1:n-r*(l-1),y1:170-170*t.timers[e+1].quant/15,x2:n-r*l,y2:170-170*t.timers[e].quant/15,percent:0},style:{stroke:"#FFECDD",lineWidth:3},z:0,cursor:"normal"}),t.zr2.add(u),u.animateTo({shape:{percent:1}},100,100*(l+.5),"quartincInOut")),d=new Ct.a.Circle({shape:{cx:n-r*l,cy:170-170*t.timers[e].quant/15,r:6},style:{fill:"#FF8076",stroke:"rgb(255, 239, 224)",lineWidth:3,shadowColor:"rgb(72, 76, 77, 0.45)"},z:5,cursor:"normal",onmouseover:function(){t.quantTextIn(e)},onmouseout:function(){t.quantTextOut(e)}}),t.zr2.add(d),m=new Ct.a.Text({position:[n-r*l+2,170-170*t.timers[e].quant/15-20],style:{text:t.timers[e].quant+"篇",fontSize:"12",textAlign:"center",textFill:"#FF8076",opacity:0},z:5,cursor:"normal"}),t.zr2.add(m),t.quantText.unshift(m),t.quantCircle.unshift(d),t.zr2.add(new Ct.a.Text({position:[n-r*l,180],style:{text:t.timers[e].month+"月",fontSize:"14",textAlign:"center",textFill:"#FF8076",opacity:t.timers[e].month==s&&t.timers[e].year==a?1:.3},z:5,cursor:"normal"}))},c=t.timers.length-1;c>=0;c--){var l,u,d,m;o(c)}})).catch((function(t){}))}},kt=xt,Tt=(i("d018"),Object(u["a"])(kt,yt,wt,!1,null,"06a94203",null)),St=Tt.exports,Lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"big-wrapper"}},[a("div",{staticClass:"item"},[a("div",{attrs:{id:"no-reviews-body"}},[a("img",{attrs:{src:i("1433")}}),a("span",[t._v("草，这都被你发现了..\n            ")])])])])}],Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"bezier"}},[i("canvas",{ref:"main",attrs:{id:"main",width:"320",height:"320"}}),i("div",{ref:"code",staticClass:"code"},[t._v("\n      "+t._s(t.msg)+"\n   ")])])},Nt=[],Ot={name:"bezier",methods:{refresh:function(){var t=this;function e(t){return t<=8?8:t>=312?312:t}console.log("down"),this.timer=setInterval((function(){t.msg="".concat(t.p1.position[0],",").concat(t.p1.position[1]),t.p1.attr({position:[e(t.p1.position[0]),e(t.p1.position[1])]}),t.p2.attr({position:[e(t.p2.position[0]),e(t.p2.position[1])]}),t.curve.attr({shape:{cpx1:t.p1.position[0],cpy1:t.p1.position[1],cpx2:t.p2.position[0],cpy2:t.p2.position[1]}}),t.l1.attr({shape:{x2:t.p1.position[0],y2:t.p1.position[1]}}),t.l2.attr({shape:{x2:t.p2.position[0],y2:t.p2.position[1]}}),t.refreshMsg()}),16.6)},clearRefresh:function(t){console.log("down"),clearInterval(this.timer)},refreshMsg:function(){this.msg="".concat(this.p1.position[0],",").concat(this.p1.position[1]),this.code=""}},data:function(){return{obj_point:{draggable:!0,style:{stroke:"rgb(251,254,250)",lineWidth:4},shape:{rx:0,ry:0,r:6}},obj_line:{style:{stroke:"rgb(251,254,250)",lineWidth:4}},zr:null,p1:null,p2:null,l1:null,l2:null,curve:null,timer:null,msg:"",code:""}},mounted:function(){this.zr=Ct.a.init(this.$refs.main),this.obj_point.position=[60,260],this.p1=new Ct.a.Circle(this.obj_point),this.p1.on("click",this.refresh),this.p1.on("mouseup",this.clearRefresh),this.obj_point.position=[260,60],this.p2=new Ct.a.Circle(this.obj_point),this.p2.on("click",this.refresh),this.p2.on("mouseup",this.clearRefresh),this.obj_line.shape={x1:60,y1:260,x2:60,y2:260},this.l1=new Ct.a.Line(this.obj_line),this.obj_line.shape={x1:260,y1:60,x2:60,y2:260},this.l2=new Ct.a.Line(this.obj_line),this.zr.add(new Ct.a.Rect({style:{stroke:"rgb(251,254,250)",lineWidth:4,fill:"none"},shape:{x:60,y:60,width:200,height:200},cursor:"normal"})),this.curve=new Ct.a.BezierCurve({shape:{x1:this.p1.position[0],y1:this.p1.position[1],x2:this.p2.position[0],y2:this.p2.position[1],cpx1:this.p1.position[0],cpy1:this.p1.position[1],cpx2:this.p2.position[0],cpy2:this.p2.position[1]},style:{stroke:"#6ED8CC",lineWidth:4,shadowColor:"#6ED8CC",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:1},cursor:"normal"}),this.zr.add(this.curve),this.zr.add(this.p1),this.zr.add(this.p2),this.zr.add(this.l1),this.zr.add(this.l2),this.refreshMsg()},watch:{}},jt=Ot,Et=(i("d9a6"),Object(u["a"])(jt,Pt,Nt,!1,null,"5618fecc",null)),Ft=Et.exports,At={name:"collection",components:{Bezier:Ft},data:function(){return{}}},It=At,zt=(i("f535"),Object(u["a"])(It,Lt,qt,!1,null,"4731b6d8",null)),Mt=zt.exports,Dt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"no-reviews"}},[a("div",{attrs:{id:"no-reviews-body"}},[a("img",{attrs:{src:i("1433")}}),a("span",[t._v("草，这都被你发现了..\n      ")])])])}],Ht={name:"collection",components:{},data:function(){return{}}},Rt=Ht,Wt=(i("a839"),Object(u["a"])(Rt,Dt,Bt,!1,null,"0ecdb8fa",null)),Ut=Wt.exports;a["a"].use(C["a"]);var Yt=[{path:"/",components:{left:q,right:St}},{path:"/home",components:{left:q,right:St}},{path:"/read",components:{left:J,right:ht,bottom:et}},{path:"/edit",components:{left:R,right:bt}},{path:"/about",components:{left:F}},{path:"/category",components:{left:ot,right:St}},{path:"/collection",components:{left:Mt,right:ht}},{path:"/demo",components:{left:Ut,right:ht}}],Vt=new C["a"]({mode:"history",routes:Yt});Vt.beforeEach((function(t,e,i){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.pageYOffset=0,0===t.matched.length?e.path?i({path:e.path}):i("/"):i()}));var Gt=Vt,Jt=i("bc3a"),Xt=i.n(Jt),Zt=i("a78e"),Kt=i.n(Zt),Qt=i("2f62");a["a"].use(Qt["a"]);var te={receiveLoginTog:function(t,e){t.loginTog="undefined"==typeof e?!t.loginTog:e},receivePhoneTog:function(t,e){t.phoneTog="undefined"==typeof e?!t.phoneTog:e},receiveLoginState:function(t,e){console.log("响应到"+e),t.loginState=e}},ee={path:[{name:"主页",link:"/home"}],title:"",login:{user:"",quote:"",lookNum:0,sayNum:0,avatar:""},alertNum:0,invalidArticle:!1,loginState:0,loginTog:!1,phoneTog:!0},ie=new Qt["a"].Store({state:ee,mutations:te}),ae=ie,se=(i("61fb"),i("1487")),ne=i.n(se),re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"z"},on:{click:t.clickIn}},[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],attrs:{id:"black"}})]),a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],key:"al",staticClass:"alert"},[a("p",["true"==t.type?a("img",{attrs:{src:i("cbb8")}}):t._e(),"false"==t.type?a("img",{attrs:{src:i("2245")}}):t._e(),"tips"==t.type?a("img",{attrs:{src:i("5072")}}):t._e(),a("span",{class:{greentext:"true"==t.type,redtext:"false"==t.type,bluetext:"tips"==t.type}},[t._v(t._s(t.msg))])])])])],1)},oe=[],ce={name:"alert",methods:{clickIn:function(t){this.visible=!1,t.stopPropagation()}},data:function(){return{type:"",msg:"",visible:!0}},mounted:function(){var t=this;this.visible=!0,window.setTimeout((function(){t.visible=!1}),1400)}},le=ce,ue=(i("a0e4"),Object(u["a"])(le,re,oe,!1,null,"10eef398",null)),de=ue.exports;a["a"].config.productionTip=!1,a["a"].directive("highlight",(function(t){var e=t.querySelectorAll("pre code");e.forEach((function(t){ne.a.highlightBlock(t)}))})),a["a"].prototype.$http=Xt.a.create({baseURL:"http://106.15.200.151:3001/api"}),a["a"].prototype.Cookies=Kt.a,a["a"].prototype.$getUserInfo=function(){var t=this;this.$http.post("/user-info",{_id:this.Cookies.get("_id")}).then((function(e){1==e.data.success?(t.$store.state.login.user=e.data.user,t.$store.state.login.quote=e.data.quote,t.$store.state.login.avatar=e.data.avatar+"?a="+Math.random(),t.$store.state.login.lookNum=e.data.lookNum,t.$store.state.login.sayNum=e.data.sayNum):(t.$store.state.login.user="",t.$store.state.login.quote="",t.$store.state.login.avatar="",t.$store.state.login.lookNum="",t.$store.state.login.sayNum="")})).catch()};var me=a["a"].extend(de);a["a"].prototype.$alert=function(t,e){if(console.log(document.getElementsByClassName("alert").length),!(document.getElementsByClassName("alert").length>=2)){""==e&&(e="true");var i=new me({data:{msg:t,type:e,visible:!1}}).$mount();document.body.appendChild(i.$el),setTimeout((function(){document.body.removeChild(i.$el)}),1700)}},Gt.afterEach((function(t,e,i){window,scrollTo(0,0)})),new a["a"]({el:"#app",render:function(t){return t($)},router:Gt,store:ae,mounted:function(){}})},5940:function(t,e,i){},"5cdc":function(t,e,i){"use strict";var a=i("6cfd"),s=i.n(a);s.a},"5ea0":function(t,e,i){t.exports=i.p+"img/48icon_Home.648cf791.svg"},"624c":function(t,e,i){"use strict";var a=i("9398"),s=i.n(a);s.a},"64a9":function(t,e,i){},6779:function(t,e,i){t.exports=i.p+"img/label-blue.5db2021d.svg"},"6ccf":function(t,e,i){t.exports=i.p+"img/upload.f55eb4e2.svg"},"6cfd":function(t,e,i){},"6fb5":function(t,e,i){},"74d4":function(t,e,i){t.exports=i.p+"img/github-fill.dd60c39a.svg"},"7dd0":function(t,e,i){t.exports=i.p+"img/48icon_Read.5ed92d8c.svg"},"822e":function(t,e,i){},8277:function(t,e,i){t.exports=i.p+"img/time.aec4fddc.svg"},8289:function(t,e,i){"use strict";var a=i("e572"),s=i.n(a);s.a},"89de":function(t,e,i){t.exports=i.p+"img/quote.d1be47e4.svg"},"8a9c":function(t,e,i){t.exports=i.p+"img/48icon_Favorite.d8518b5c.svg"},"926d":function(t,e,i){},9398:function(t,e,i){},9628:function(t,e,i){},9753:function(t,e,i){t.exports=i.p+"img/user2.d7b1794f.svg"},"9ac5":function(t,e,i){t.exports=i.p+"img/say.ed06b0f2.svg"},a051:function(t,e,i){t.exports=i.p+"img/saynum.a650d9be.svg"},a0e4:function(t,e,i){"use strict";var a=i("bc79"),s=i.n(a);s.a},a839:function(t,e,i){"use strict";var a=i("4c8a"),s=i.n(a);s.a},a8cb:function(t,e,i){t.exports=i.p+"img/48icon_Category.c29e2ef6.svg"},af7b:function(t,e,i){},b3c4:function(t,e,i){t.exports=i.p+"img/bilibili-line.0fdb38d4.svg"},b726:function(t,e,i){"use strict";var a=i("af7b"),s=i.n(a);s.a},b8f9:function(t,e,i){t.exports=i.p+"img/48icon_Drafts.01a8883b.svg"},bc0a:function(t,e,i){},bc79:function(t,e,i){},c613:function(t,e,i){t.exports=i.p+"img/looknum.3cdf8a0b.svg"},c6ff:function(t,e,i){t.exports=i.p+"img/qq-line.cdb726bc.svg"},cbb8:function(t,e,i){t.exports=i.p+"img/true.5c5bcae7.svg"},ccdb:function(t,e,i){t.exports=i.p+"img/no-avatar.aa719eae.png"},cdc9:function(t,e,i){t.exports=i.p+"img/48icon_Message.4b9871e3.svg"},d018:function(t,e,i){"use strict";var a=i("9628"),s=i.n(a);s.a},d0cc:function(t,e,i){"use strict";var a=i("bc0a"),s=i.n(a);s.a},d30f:function(t,e,i){t.exports=i.p+"img/interactive.ddf0c110.svg"},d33b:function(t,e,i){},d9a6:function(t,e,i){"use strict";var a=i("6fb5"),s=i.n(a);s.a},e253:function(t,e,i){t.exports=i.p+"img/48icon_User.c4052467.svg"},e4e0:function(t,e,i){t.exports=i.p+"img/pwd2.e42451fc.svg"},e572:function(t,e,i){},e7a7:function(t,e,i){"use strict";var a=i("384e"),s=i.n(a);s.a},eb58:function(t,e,i){t.exports=i.p+"img/mine.8329a153.svg"},f535:function(t,e,i){"use strict";var a=i("3509"),s=i.n(a);s.a},f747:function(t,e,i){t.exports=i.p+"img/48icon_Userok.efcd9a5e.svg"},f891:function(t,e,i){"use strict";var a=i("926d"),s=i.n(a);s.a},fe60:function(t,e,i){t.exports=i.p+"img/overall.8768ebbc.svg"}});
//# sourceMappingURL=app.aa23fd6c.js.map